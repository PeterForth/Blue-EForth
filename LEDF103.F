\  F103 BLUE PILL BLINK PC13
\  REFER TO STM PDF RM0008 FOR GPIO SETUPS
HEX
: BIT ( PIN# - BIT ) \ USED AS A GENERAL PORT MASK VALUE
   1 SWAP LSHIFT ;

: CONF ( PIN# - MASK OFFSET ) \ USED FOR MODE AND CONFIG
   4 * 20 /MOD
   4 *
   0F ROT LSHIFT
   SWAP ;

\ MODE MASKS
CCCCCCCC CONSTANT INMODE
FFFFFFFF CONSTANT OUT50
DDDDDDDD CONSTANT OUT10
EEEEEEEE CONSTANT OUT2

\ CONFIG MASKS
  \ INS
00000000 CONSTANT ANALOG
44444444 CONSTANT FLOAT
88888888 CONSTANT UP/DN
  \ OUTS
33333333 CONSTANT P/P
77777777 CONSTANT DRAIN
FFFFFFFF CONSTANT ALT/DRN

\ GPIO DATA PORTS
08 CONSTANT INPUT
10 CONSTANT S/R
0C CONSTANT OUTPUT

\ EXAMPLE TO PLAY WITH GREEN LED
DECIMAL
 13 CONSTANT LED#
 LED# BIT CONSTANT LED  \ PORT MASK
 DRAIN OUT2 AND LED# CONF PC+ MSK!
HEX

: OFF LED 0 PC+ SET! ;
: ON LED 0 PC+ CLR! ;

